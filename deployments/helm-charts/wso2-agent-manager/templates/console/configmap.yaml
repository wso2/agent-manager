{{- if .Values.console.enabled }}
apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ include "agent-management-platform.console.fullname" . }}
  labels:
    {{- include "agent-management-platform.console.labels" . | nindent 4 }}
data:
  # Authentication configuration
  AUTH_CLIENT_ID: {{ .Values.console.config.auth.clientId | quote }}
  AUTH_BASE_URL: {{ .Values.console.config.auth.baseUrl | quote }}
  SIGN_IN_REDIRECT_URL: {{ .Values.console.config.auth.signInRedirectURL | quote }}
  SIGN_OUT_REDIRECT_URL: {{ .Values.console.config.auth.signOutRedirectURL | quote }}
  VALIDATE_ID_TOKEN: {{ .Values.console.config.auth.validateIDToken | quote }}
  CLOCK_TOLERANCE: {{ .Values.console.config.auth.clockTolerance | quote }}
  # Disable authentication flag
  DISABLE_AUTH: {{ .Values.console.config.disableAuth | quote }}
  # Backend API URL (auto-configure if empty)
  API_BASE_URL: {{ .Values.console.config.apiBaseUrl | quote }}
  # Agent Instrumentation URL
  INSTRUMENTATION_URL: {{ .Values.console.config.instrumentationUrl | quote }}
{{- end }}
